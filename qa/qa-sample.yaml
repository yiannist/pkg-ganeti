# Cluster name
name: xen-test
rename: xen-test-rename
hypervisor-type: xen-3.0

# System to use
os: debian-etch
os-size: 10G
swap-size: 1G
mem: 512M

# Nodes to use
nodes:
# Master node
- primary: xen-test-0
  secondary: 192.168.1.1

# Other nodes
- primary: xen-test-1
  secondary: 192.168.1.2

# Instance names to use
instances:
- name: xen-test-inst1
- name: xen-test-inst2

# Tests to run
tests:
  env: True
  os: True
  tags: True
  rapi: True

  cluster-verify: True
  cluster-info: True
  cluster-burnin: True
  cluster-command: True
  cluster-copyfile: True
  cluster-master-failover: True
  cluster-destroy: True
  cluster-rename: True

  node-info: True
  node-volumes: True
  node-readd: True

  # This test needs at least three nodes
  node-evacuate: False

  # This test needs at least two nodes
  node-failover: False

  instance-add-plain-disk: True
  instance-add-local-mirror-disk: True

  # Requires DRBD 0.7.x
  instance-add-remote-raid-disk: True

  # Requires DRBD 8.x
  instance-add-drbd-disk: False
  
  instance-grow-disk: True

  instance-list: True
  instance-migrate: True
  instance-failover: True
  instance-info: True
  instance-modify: True
  instance-export: True
  instance-import: True
  instance-reinstall: True
  instance-reboot: True
  instance-shutdown: True
  instance-automatic-restart: False
  instance-consecutive-failures: False

  # Disabled by default because it takes rather long
  instance-replace-disks: False

  # Make sure not to include the disk(s) required for Dom0 to be included in
  # the volume group used for instances. Otherwise the whole system may stop
  # working until restarted.
  instance-disk-failure: False

# Other settings
options:
  burnin-instances: 2
  burnin-disk-template: remote_raid1
  grow-disk-size: 1g
  instance-migrations: 2
  # Directory containing QA hooks
  #hooks-dir: hooks/

  # Logfile for loghook.py
  hook-logfile: /tmp/qa.log
