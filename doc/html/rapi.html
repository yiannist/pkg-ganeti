<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ganeti remote API &mdash; Ganeti v2.1.1 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.1.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ganeti v2.1.1 documentation" href="index.html" />
    <link rel="next" title="Developer notes" href="devnotes.html" />
    <link rel="prev" title="Ganeti automatic instance allocation" href="iallocator.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="devnotes.html" title="Developer notes"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="iallocator.html" title="Ganeti automatic instance allocation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Ganeti v2.1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ganeti-remote-api">
<h1><a class="toc-backref" href="#id36">Ganeti remote API</a><a class="headerlink" href="#ganeti-remote-api" title="Permalink to this headline">Â¶</a></h1>
<p>Documents Ganeti version 2.1</p>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#ganeti-remote-api" id="id36" name="id36">Ganeti remote API</a><ul>
<li><a class="reference" href="#introduction" id="id37" name="id37">Introduction</a></li>
<li><a class="reference" href="#users-and-passwords" id="id38" name="id38">Users and passwords</a></li>
<li><a class="reference" href="#protocol" id="id39" name="id39">Protocol</a></li>
<li><a class="reference" href="#generic-parameters" id="id40" name="id40">Generic parameters</a><ul>
<li><a class="reference" href="#bulk" id="id41" name="id41"><tt class="docutils literal"><span class="pre">bulk</span></tt></a></li>
<li><a class="reference" href="#dry-run" id="id42" name="id42"><tt class="docutils literal"><span class="pre">dry-run</span></tt></a></li>
<li><a class="reference" href="#force" id="id43" name="id43"><tt class="docutils literal"><span class="pre">force</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#usage-examples" id="id44" name="id44">Usage examples</a><ul>
<li><a class="reference" href="#shell" id="id45" name="id45">Shell</a></li>
<li><a class="reference" href="#python" id="id46" name="id46">Python</a></li>
<li><a class="reference" href="#javascript" id="id47" name="id47">JavaScript</a></li>
</ul>
</li>
<li><a class="reference" href="#resources" id="id48" name="id48">Resources</a><ul>
<li><a class="reference" href="#id2" id="id49" name="id49"><tt class="docutils literal"><span class="pre">/</span></tt></a><ul>
<li><a class="reference" href="#get" id="id50" name="id50"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#id3" id="id51" name="id51"><tt class="docutils literal"><span class="pre">/2</span></tt></a><ul>
<li><a class="reference" href="#id4" id="id52" name="id52"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#info" id="id53" name="id53"><tt class="docutils literal"><span class="pre">/2/info</span></tt></a><ul>
<li><a class="reference" href="#id5" id="id54" name="id54"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#redistribute-config" id="id55" name="id55"><tt class="docutils literal"><span class="pre">/2/redistribute-config</span></tt></a><ul>
<li><a class="reference" href="#put" id="id56" name="id56"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances" id="id57" name="id57"><tt class="docutils literal"><span class="pre">/2/instances</span></tt></a><ul>
<li><a class="reference" href="#id6" id="id58" name="id58"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#post" id="id59" name="id59"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name" id="id60" name="id60"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]</span></tt></a><ul>
<li><a class="reference" href="#id7" id="id61" name="id61"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#delete" id="id62" name="id62"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-info" id="id63" name="id63"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/info</span></tt></a><ul>
<li><a class="reference" href="#id8" id="id64" name="id64"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-reboot" id="id65" name="id65"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/reboot</span></tt></a><ul>
<li><a class="reference" href="#id9" id="id66" name="id66"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-shutdown" id="id67" name="id67"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/shutdown</span></tt></a><ul>
<li><a class="reference" href="#id10" id="id68" name="id68"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-startup" id="id69" name="id69"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/startup</span></tt></a><ul>
<li><a class="reference" href="#id11" id="id70" name="id70"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-reinstall" id="id71" name="id71"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/reinstall</span></tt></a><ul>
<li><a class="reference" href="#id12" id="id72" name="id72"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-replace-disks" id="id73" name="id73"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/replace-disks</span></tt></a><ul>
<li><a class="reference" href="#id13" id="id74" name="id74"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-tags" id="id75" name="id75"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/tags</span></tt></a><ul>
<li><a class="reference" href="#id14" id="id76" name="id76"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#id15" id="id77" name="id77"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
<li><a class="reference" href="#id16" id="id78" name="id78"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#jobs" id="id79" name="id79"><tt class="docutils literal"><span class="pre">/2/jobs</span></tt></a><ul>
<li><a class="reference" href="#id17" id="id80" name="id80"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#jobs-job-id" id="id81" name="id81"><tt class="docutils literal"><span class="pre">/2/jobs/[job_id]</span></tt></a><ul>
<li><a class="reference" href="#id18" id="id82" name="id82"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#id19" id="id83" name="id83"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes" id="id84" name="id84"><tt class="docutils literal"><span class="pre">/2/nodes</span></tt></a><ul>
<li><a class="reference" href="#id20" id="id85" name="id85"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name" id="id86" name="id86"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]</span></tt></a></li>
<li><a class="reference" href="#nodes-node-name-evacuate" id="id87" name="id87"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/evacuate</span></tt></a><ul>
<li><a class="reference" href="#id21" id="id88" name="id88"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-migrate" id="id89" name="id89"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/migrate</span></tt></a><ul>
<li><a class="reference" href="#id22" id="id90" name="id90"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-role" id="id91" name="id91"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/role</span></tt></a><ul>
<li><a class="reference" href="#id23" id="id92" name="id92"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#id24" id="id93" name="id93"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-storage" id="id94" name="id94"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage</span></tt></a><ul>
<li><a class="reference" href="#id25" id="id95" name="id95"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-storage-modify" id="id96" name="id96"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/modify</span></tt></a><ul>
<li><a class="reference" href="#id26" id="id97" name="id97"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-storage-repair" id="id98" name="id98"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/repair</span></tt></a><ul>
<li><a class="reference" href="#id27" id="id99" name="id99"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-tags" id="id100" name="id100"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/tags</span></tt></a><ul>
<li><a class="reference" href="#id28" id="id101" name="id101"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#id29" id="id102" name="id102"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
<li><a class="reference" href="#id30" id="id103" name="id103"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#os" id="id104" name="id104"><tt class="docutils literal"><span class="pre">/2/os</span></tt></a><ul>
<li><a class="reference" href="#id31" id="id105" name="id105"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#tags" id="id106" name="id106"><tt class="docutils literal"><span class="pre">/2/tags</span></tt></a><ul>
<li><a class="reference" href="#id32" id="id107" name="id107"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#id33" id="id108" name="id108"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
<li><a class="reference" href="#id34" id="id109" name="id109"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#version" id="id110" name="id110"><tt class="docutils literal"><span class="pre">/version</span></tt></a><ul>
<li><a class="reference" href="#id35" id="id111" name="id111"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id37">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">Â¶</a></h2>
<p>Ganeti supports a remote API for enable external tools to easily
retrieve information about a cluster&#8217;s state. The remote API daemon,
<em>ganeti-rapi</em>, is automatically started on the master node. By default
it runs on TCP port 5080, but this can be changed either in
<tt class="docutils literal"><span class="pre">.../constants.py</span></tt> or via the command line parameter <em>-p</em>. SSL mode,
which is used by default, can also be disabled by passing command line
parameters.</p>
</div>
<div class="section" id="users-and-passwords">
<h2><a class="toc-backref" href="#id38">Users and passwords</a><a class="headerlink" href="#users-and-passwords" title="Permalink to this headline">Â¶</a></h2>
<p><tt class="docutils literal"><span class="pre">ganeti-rapi</span></tt> reads users and passwords from a file (usually
<tt class="docutils literal"><span class="pre">/var/lib/ganeti/rapi_users</span></tt>) on startup. After modifying the password
file, <tt class="docutils literal"><span class="pre">ganeti-rapi</span></tt> must be restarted.</p>
<p>Each line consists of two or three fields separated by whitespace. The
first two fields are for username and password. The third field is
optional and can be used to specify per-user options. Currently,
<tt class="docutils literal"><span class="pre">write</span></tt> is the only option supported and enables the user to execute
operations modifying the cluster. Lines starting with the hash sign
(<tt class="docutils literal"><span class="pre">#</span></tt>) are treated as comments.</p>
<p>Passwords can either be written in clear text or as a hash. Clear text
passwords may not start with an opening brace (<tt class="docutils literal"><span class="pre">{</span></tt>) or they must be
prefixed with <tt class="docutils literal"><span class="pre">{cleartext}</span></tt>. To use the hashed form, get the MD5 hash
of the string <tt class="docutils literal"><span class="pre">$username:Ganeti</span> <span class="pre">Remote</span> <span class="pre">API:$password</span></tt> (e.g. <tt class="docutils literal"><span class="pre">echo</span> <span class="pre">-n</span>
<span class="pre">'jack:Ganeti</span> <span class="pre">Remote</span> <span class="pre">API:abc123'</span> <span class="pre">|</span> <span class="pre">openssl</span> <span class="pre">md5</span></tt>) <a class="footnote-reference" href="#pwhash" id="id1" name="id1">[1]</a> and prefix
it with <tt class="docutils literal"><span class="pre">{ha1}</span></tt>. Using the scheme prefix for all passwords is
recommended. Scheme prefixes are not case sensitive.</p>
<p>Example:</p>
<div class="highlight-python"><pre># Give Jack and Fred read-only access
jack abc123
fred {cleartext}foo555

# Give write access to an imaginary instance creation script
autocreator xyz789 write

# Hashed password for Jessica
jessica {HA1}7046452df2cbb530877058712cf17bd4 write</pre>
</div>
<table class="docutils footnote" frame="void" id="pwhash" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1" name="pwhash">[1]</a></td><td>Using the MD5 hash of username, realm and password is
described in <a class="reference" href="http://tools.ietf.org/rfc/rfc2617.txt">RFC2617</a> (&#8220;HTTP Authentication&#8221;), sections 3.2.2.2 and
3.3. The reason for using it over another algorithm is forward
compatibility. If <tt class="docutils literal"><span class="pre">ganeti-rapi</span></tt> were to implement HTTP Digest
authentication in the future, the same hash could be used.
In the current version <tt class="docutils literal"><span class="pre">ganeti-rapi</span></tt>&#8216;s realm, <tt class="docutils literal"><span class="pre">Ganeti</span> <span class="pre">Remote</span>
<span class="pre">API</span></tt>, can only be changed by modifying the source code.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="protocol">
<h2><a class="toc-backref" href="#id39">Protocol</a><a class="headerlink" href="#protocol" title="Permalink to this headline">Â¶</a></h2>
<p>The protocol used is <a class="reference" href="http://www.json.org/">JSON</a> over HTTP designed after the <a class="reference" href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a> principle.
HTTP Basic authentication as per <a class="reference" href="http://tools.ietf.org/rfc/rfc2617.txt">RFC2617</a> is supported.</p>
</div>
<div class="section" id="generic-parameters">
<h2><a class="toc-backref" href="#id40">Generic parameters</a><a class="headerlink" href="#generic-parameters" title="Permalink to this headline">Â¶</a></h2>
<p>A few parameter mean the same thing across all resources which implement
it.</p>
<div class="section" id="bulk">
<h3><a class="toc-backref" href="#id41"><tt class="docutils literal"><span class="pre">bulk</span></tt></a><a class="headerlink" href="#bulk" title="Permalink to this headline">Â¶</a></h3>
<p>Bulk-mode means that for the resources which usually return just a list
of child resources (e.g. <tt class="docutils literal"><span class="pre">/2/instances</span></tt> which returns just instance
names), the output will instead contain detailed data for all these
subresources. This is more efficient than query-ing the sub-resources
themselves.</p>
</div>
<div class="section" id="dry-run">
<h3><a class="toc-backref" href="#id42"><tt class="docutils literal"><span class="pre">dry-run</span></tt></a><a class="headerlink" href="#dry-run" title="Permalink to this headline">Â¶</a></h3>
<p>The optional <em>dry-run</em> argument, if provided and set to a positive
integer value (e.g. <tt class="docutils literal"><span class="pre">?dry-run=1</span></tt>), signals to Ganeti that the job
should not be executed, only the pre-execution checks will be done.</p>
<p>This is useful in trying to determine (without guarantees though, as in
the meantime the cluster state could have changed) if the operation is
likely to succeed or at least start executing.</p>
</div>
<div class="section" id="force">
<h3><a class="toc-backref" href="#id43"><tt class="docutils literal"><span class="pre">force</span></tt></a><a class="headerlink" href="#force" title="Permalink to this headline">Â¶</a></h3>
<p>Force operation to continue even if it will cause the cluster to become
inconsistent (e.g. because there are not enough master candidates).</p>
</div>
</div>
<div class="section" id="usage-examples">
<h2><a class="toc-backref" href="#id44">Usage examples</a><a class="headerlink" href="#usage-examples" title="Permalink to this headline">Â¶</a></h2>
<p>You can access the API using your favorite programming language as long
as it supports network connections.</p>
<div class="section" id="shell">
<h3><a class="toc-backref" href="#id45">Shell</a><a class="headerlink" href="#shell" title="Permalink to this headline">Â¶</a></h3>
<p>Using wget:</p>
<div class="highlight-sh"><div class="highlight"><pre>wget -q -O - https://CLUSTERNAME:5080/2/info
</pre></div>
</div>
<p>or curl:</p>
<div class="highlight-sh"><div class="highlight"><pre>curl https://CLUSTERNAME:5080/2/info
</pre></div>
</div>
</div>
<div class="section" id="python">
<h3><a class="toc-backref" href="#id46">Python</a><a class="headerlink" href="#python" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&#39;https://CLUSTERNAME:5080/2/info&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="javascript">
<h3><a class="toc-backref" href="#id47">JavaScript</a><a class="headerlink" href="#javascript" title="Permalink to this headline">Â¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">While it&#8217;s possible to use JavaScript, it poses several
potential problems, including browser blocking request due to
non-standard ports or different domain names. Fetching the data on
the webserver is easier.</p>
</div>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">&#39;https://CLUSTERNAME:5080/2/info&#39;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">info</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">xmlreq</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xmlreq</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">xmlreq</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">xmlreq</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">info</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">xmlreq</span><span class="p">.</span><span class="nx">responseText</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">);</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">info</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Error fetching cluster info&#39;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">xmlreq</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>
<span class="nx">xmlreq</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="nx">url</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xmlreq</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="resources">
<h2><a class="toc-backref" href="#id48">Resources</a><a class="headerlink" href="#resources" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id49"><tt class="docutils literal"><span class="pre">/</span></tt></a><a class="headerlink" href="#id2" title="Permalink to this headline">Â¶</a></h3>
<p>The root resource.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>.</p>
<div class="section" id="get">
<h4><a class="toc-backref" href="#id50"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#get" title="Permalink to this headline">Â¶</a></h4>
<p>Shows the list of mapped resources.</p>
<p>Returns: a dictionary with &#8216;name&#8217; and &#8216;uri&#8217; keys for each of them.</p>
</div>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id51"><tt class="docutils literal"><span class="pre">/2</span></tt></a><a class="headerlink" href="#id3" title="Permalink to this headline">Â¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">/2</span></tt> resource, the root of the version 2 API.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>.</p>
<div class="section" id="id4">
<h4><a class="toc-backref" href="#id52"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id4" title="Permalink to this headline">Â¶</a></h4>
<p>Show the list of mapped resources.</p>
<p>Returns: a dictionary with <tt class="docutils literal"><span class="pre">name</span></tt> and <tt class="docutils literal"><span class="pre">uri</span></tt> keys for each of them.</p>
</div>
</div>
<div class="section" id="info">
<h3><a class="toc-backref" href="#id53"><tt class="docutils literal"><span class="pre">/2/info</span></tt></a><a class="headerlink" href="#info" title="Permalink to this headline">Â¶</a></h3>
<p>Cluster information resource.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>.</p>
<div class="section" id="id5">
<h4><a class="toc-backref" href="#id54"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id5" title="Permalink to this headline">Â¶</a></h4>
<p>Returns cluster information.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;config_version&quot;</span><span class="o">:</span> <span class="mi">2000000</span><span class="p">,</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;cluster&quot;</span><span class="p">,</span>
  <span class="s2">&quot;software_version&quot;</span><span class="o">:</span> <span class="s2">&quot;2.0.0~beta2&quot;</span><span class="p">,</span>
  <span class="s2">&quot;os_api_version&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="s2">&quot;export_version&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;candidate_pool_size&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="s2">&quot;enabled_hypervisors&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">&quot;fake&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;hvparams&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;fake&quot;</span><span class="o">:</span> <span class="p">{}</span>
   <span class="p">},</span>
  <span class="s2">&quot;default_hypervisor&quot;</span><span class="o">:</span> <span class="s2">&quot;fake&quot;</span><span class="p">,</span>
  <span class="s2">&quot;master&quot;</span><span class="o">:</span> <span class="s2">&quot;node1.example.com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;architecture&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">&quot;64bit&quot;</span><span class="p">,</span>
    <span class="s2">&quot;x86_64&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;protocol_version&quot;</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
  <span class="s2">&quot;beparams&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;default&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;auto_balance&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">&quot;vcpus&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;memory&quot;</span><span class="o">:</span> <span class="mi">128</span>
     <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="redistribute-config">
<h3><a class="toc-backref" href="#id55"><tt class="docutils literal"><span class="pre">/2/redistribute-config</span></tt></a><a class="headerlink" href="#redistribute-config" title="Permalink to this headline">Â¶</a></h3>
<p>Redistribute configuration to all nodes.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">PUT</span></tt>.</p>
<div class="section" id="put">
<h4><a class="toc-backref" href="#id56"><tt class="docutils literal"><span class="pre">PUT</span></tt></a><a class="headerlink" href="#put" title="Permalink to this headline">Â¶</a></h4>
<p>Redistribute configuration to all nodes. The result will be a job id.</p>
</div>
</div>
<div class="section" id="instances">
<h3><a class="toc-backref" href="#id57"><tt class="docutils literal"><span class="pre">/2/instances</span></tt></a><a class="headerlink" href="#instances" title="Permalink to this headline">Â¶</a></h3>
<p>The instances resource.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>, <tt class="docutils literal"><span class="pre">POST</span></tt>.</p>
<div class="section" id="id6">
<h4><a class="toc-backref" href="#id58"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id6" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of all available instances.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;web.example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uri&quot;</span><span class="o">:</span> <span class="s2">&quot;\/instances\/web.example.com&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;mail.example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uri&quot;</span><span class="o">:</span> <span class="s2">&quot;\/instances\/mail.example.com&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>If the optional <em>bulk</em> argument is provided and set to a true value (i.e
<tt class="docutils literal"><span class="pre">?bulk=1</span></tt>), the output contains detailed information about instances
as a list.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span>
     <span class="s2">&quot;status&quot;</span><span class="o">:</span> <span class="s2">&quot;running&quot;</span><span class="p">,</span>
     <span class="s2">&quot;disk_usage&quot;</span><span class="o">:</span> <span class="mi">20480</span><span class="p">,</span>
     <span class="s2">&quot;nic.bridges&quot;</span><span class="o">:</span> <span class="p">[</span>
       <span class="s2">&quot;xen-br0&quot;</span>
      <span class="p">],</span>
     <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;web.example.com&quot;</span><span class="p">,</span>
     <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;tag1&quot;</span><span class="p">,</span> <span class="s2">&quot;tag2&quot;</span><span class="p">],</span>
     <span class="s2">&quot;beparams&quot;</span><span class="o">:</span> <span class="p">{</span>
       <span class="s2">&quot;vcpus&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
       <span class="s2">&quot;memory&quot;</span><span class="o">:</span> <span class="mi">512</span>
     <span class="p">},</span>
     <span class="s2">&quot;disk.sizes&quot;</span><span class="o">:</span> <span class="p">[</span>
         <span class="mi">20480</span>
     <span class="p">],</span>
     <span class="s2">&quot;pnode&quot;</span><span class="o">:</span> <span class="s2">&quot;node1.example.com&quot;</span><span class="p">,</span>
     <span class="s2">&quot;nic.macs&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;01:23:45:67:89:01&quot;</span><span class="p">],</span>
     <span class="s2">&quot;snodes&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;node2.example.com&quot;</span><span class="p">],</span>
     <span class="s2">&quot;disk_template&quot;</span><span class="o">:</span> <span class="s2">&quot;drbd&quot;</span><span class="p">,</span>
     <span class="s2">&quot;admin_state&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
     <span class="s2">&quot;os&quot;</span><span class="o">:</span> <span class="s2">&quot;debian-etch&quot;</span><span class="p">,</span>
     <span class="s2">&quot;oper_state&quot;</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="p">...</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="post">
<h4><a class="toc-backref" href="#id59"><tt class="docutils literal"><span class="pre">POST</span></tt></a><a class="headerlink" href="#post" title="Permalink to this headline">Â¶</a></h4>
<p>Creates an instance.</p>
<p>If the optional <em>dry-run</em> argument is provided and set to a positive
integer valu (e.g. <tt class="docutils literal"><span class="pre">?dry-run=1</span></tt>), the job will not be actually
executed, only the pre-execution checks will be done. Query-ing the job
result will return, in both dry-run and normal case, the list of nodes
selected for the instance.</p>
<p>Returns: a job ID that can be used later for polling.</p>
</div>
</div>
<div class="section" id="instances-instance-name">
<h3><a class="toc-backref" href="#id60"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]</span></tt></a><a class="headerlink" href="#instances-instance-name" title="Permalink to this headline">Â¶</a></h3>
<p>Instance-specific resource.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>, <tt class="docutils literal"><span class="pre">DELETE</span></tt>.</p>
<div class="section" id="id7">
<h4><a class="toc-backref" href="#id61"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id7" title="Permalink to this headline">Â¶</a></h4>
<p>Returns information about an instance, similar to the bulk output from
the instance list.</p>
</div>
<div class="section" id="delete">
<h4><a class="toc-backref" href="#id62"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a><a class="headerlink" href="#delete" title="Permalink to this headline">Â¶</a></h4>
<p>Deletes an instance.</p>
<p>It supports the <tt class="docutils literal"><span class="pre">dry-run</span></tt> argument.</p>
</div>
</div>
<div class="section" id="instances-instance-name-info">
<h3><a class="toc-backref" href="#id63"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/info</span></tt></a><a class="headerlink" href="#instances-instance-name-info" title="Permalink to this headline">Â¶</a></h3>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>.</p>
<div class="section" id="id8">
<h4><a class="toc-backref" href="#id64"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id8" title="Permalink to this headline">Â¶</a></h4>
<p>Requests detailed information about the instance. An optional parameter,
<tt class="docutils literal"><span class="pre">static</span></tt> (bool), can be set to return only static information from the
configuration without querying the instance&#8217;s nodes. The result will be
a job id.</p>
</div>
</div>
<div class="section" id="instances-instance-name-reboot">
<h3><a class="toc-backref" href="#id65"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/reboot</span></tt></a><a class="headerlink" href="#instances-instance-name-reboot" title="Permalink to this headline">Â¶</a></h3>
<p>Reboots URI for an instance.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">POST</span></tt>.</p>
<div class="section" id="id9">
<h4><a class="toc-backref" href="#id66"><tt class="docutils literal"><span class="pre">POST</span></tt></a><a class="headerlink" href="#id9" title="Permalink to this headline">Â¶</a></h4>
<p>Reboots the instance.</p>
<p>The URI takes optional <tt class="docutils literal"><span class="pre">type=hard|soft|full</span></tt> and
<tt class="docutils literal"><span class="pre">ignore_secondaries=False|True</span></tt> parameters.</p>
<p>It supports the <tt class="docutils literal"><span class="pre">dry-run</span></tt> argument.</p>
</div>
</div>
<div class="section" id="instances-instance-name-shutdown">
<h3><a class="toc-backref" href="#id67"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/shutdown</span></tt></a><a class="headerlink" href="#instances-instance-name-shutdown" title="Permalink to this headline">Â¶</a></h3>
<p>Instance shutdown URI.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">PUT</span></tt>.</p>
<div class="section" id="id10">
<h4><a class="toc-backref" href="#id68"><tt class="docutils literal"><span class="pre">PUT</span></tt></a><a class="headerlink" href="#id10" title="Permalink to this headline">Â¶</a></h4>
<p>Shutdowns an instance.</p>
<p>It supports the <tt class="docutils literal"><span class="pre">dry-run</span></tt> argument.</p>
</div>
</div>
<div class="section" id="instances-instance-name-startup">
<h3><a class="toc-backref" href="#id69"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/startup</span></tt></a><a class="headerlink" href="#instances-instance-name-startup" title="Permalink to this headline">Â¶</a></h3>
<p>Instance startup URI.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">PUT</span></tt>.</p>
<div class="section" id="id11">
<h4><a class="toc-backref" href="#id70"><tt class="docutils literal"><span class="pre">PUT</span></tt></a><a class="headerlink" href="#id11" title="Permalink to this headline">Â¶</a></h4>
<p>Startup an instance.</p>
<p>The URI takes an optional <tt class="docutils literal"><span class="pre">force=False|True</span></tt> parameter to start the
instance if even if secondary disks are failing.</p>
<p>It supports the <tt class="docutils literal"><span class="pre">dry-run</span></tt> argument.</p>
</div>
</div>
<div class="section" id="instances-instance-name-reinstall">
<h3><a class="toc-backref" href="#id71"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/reinstall</span></tt></a><a class="headerlink" href="#instances-instance-name-reinstall" title="Permalink to this headline">Â¶</a></h3>
<p>Installs the operating system again.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">POST</span></tt>.</p>
<div class="section" id="id12">
<h4><a class="toc-backref" href="#id72"><tt class="docutils literal"><span class="pre">POST</span></tt></a><a class="headerlink" href="#id12" title="Permalink to this headline">Â¶</a></h4>
<p>Takes the parameters <tt class="docutils literal"><span class="pre">os</span></tt> (OS template name) and <tt class="docutils literal"><span class="pre">nostartup</span></tt> (bool).</p>
</div>
</div>
<div class="section" id="instances-instance-name-replace-disks">
<h3><a class="toc-backref" href="#id73"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/replace-disks</span></tt></a><a class="headerlink" href="#instances-instance-name-replace-disks" title="Permalink to this headline">Â¶</a></h3>
<p>Replaces disks on an instance.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">POST</span></tt>.</p>
<div class="section" id="id13">
<h4><a class="toc-backref" href="#id74"><tt class="docutils literal"><span class="pre">POST</span></tt></a><a class="headerlink" href="#id13" title="Permalink to this headline">Â¶</a></h4>
<p>Takes the parameters <tt class="docutils literal"><span class="pre">mode</span></tt> (one of <tt class="docutils literal"><span class="pre">replace_on_primary</span></tt>,
<tt class="docutils literal"><span class="pre">replace_on_secondary</span></tt>, <tt class="docutils literal"><span class="pre">replace_new_secondary</span></tt> or
<tt class="docutils literal"><span class="pre">replace_auto</span></tt>), <tt class="docutils literal"><span class="pre">disks</span></tt> (comma separated list of disk indexes),
<tt class="docutils literal"><span class="pre">remote_node</span></tt> and <tt class="docutils literal"><span class="pre">iallocator</span></tt>.</p>
</div>
</div>
<div class="section" id="instances-instance-name-tags">
<h3><a class="toc-backref" href="#id75"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/tags</span></tt></a><a class="headerlink" href="#instances-instance-name-tags" title="Permalink to this headline">Â¶</a></h3>
<p>Manages per-instance tags.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>, <tt class="docutils literal"><span class="pre">PUT</span></tt>, <tt class="docutils literal"><span class="pre">DELETE</span></tt>.</p>
<div class="section" id="id14">
<h4><a class="toc-backref" href="#id76"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id14" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of tags.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span><span class="s2">&quot;tag1&quot;</span><span class="p">,</span> <span class="s2">&quot;tag2&quot;</span><span class="p">,</span> <span class="s2">&quot;tag3&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h4><a class="toc-backref" href="#id77"><tt class="docutils literal"><span class="pre">PUT</span></tt></a><a class="headerlink" href="#id15" title="Permalink to this headline">Â¶</a></h4>
<p>Add a set of tags.</p>
<p>The request as a list of strings should be <tt class="docutils literal"><span class="pre">PUT</span></tt> to this URI. The
result will be a job id.</p>
<p>It supports the <tt class="docutils literal"><span class="pre">dry-run</span></tt> argument.</p>
</div>
<div class="section" id="id16">
<h4><a class="toc-backref" href="#id78"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a><a class="headerlink" href="#id16" title="Permalink to this headline">Â¶</a></h4>
<p>Delete a tag.</p>
<p>In order to delete a set of tags, the DELETE request should be addressed
to URI like:</p>
<div class="highlight-javascript"><pre>/tags?tag=[tag]&amp;tag=[tag]</pre>
</div>
<p>It supports the <tt class="docutils literal"><span class="pre">dry-run</span></tt> argument.</p>
</div>
</div>
<div class="section" id="jobs">
<h3><a class="toc-backref" href="#id79"><tt class="docutils literal"><span class="pre">/2/jobs</span></tt></a><a class="headerlink" href="#jobs" title="Permalink to this headline">Â¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">/2/jobs</span></tt> resource.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>.</p>
<div class="section" id="id17">
<h4><a class="toc-backref" href="#id80"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id17" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a dictionary of jobs.</p>
<p>Returns: a dictionary with jobs id and uri.</p>
</div>
</div>
<div class="section" id="jobs-job-id">
<h3><a class="toc-backref" href="#id81"><tt class="docutils literal"><span class="pre">/2/jobs/[job_id]</span></tt></a><a class="headerlink" href="#jobs-job-id" title="Permalink to this headline">Â¶</a></h3>
<p>Individual job URI.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>, <tt class="docutils literal"><span class="pre">DELETE</span></tt>.</p>
<div class="section" id="id18">
<h4><a class="toc-backref" href="#id82"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id18" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job status.</p>
<p>Returns: a dictionary with job parameters.</p>
<p>The result includes:</p>
<ul class="simple">
<li>id: job ID as a number</li>
<li>status: current job status as a string</li>
<li>ops: involved OpCodes as a list of dictionaries for each opcodes in
the job</li>
<li>opstatus: OpCodes status as a list</li>
<li>opresult: OpCodes results as a list</li>
</ul>
<p>For a successful opcode, the <tt class="docutils literal"><span class="pre">opresult</span></tt> field corresponding to it will
contain the raw result from its <a class="reference" href="glossary.html#term-logicalunit"><em>LogicalUnit</em></a>. In case an opcode
has failed, its element in the opresult list will be a list of two
elements:</p>
<ul class="simple">
<li>first element the error type (the Ganeti internal error name)</li>
<li>second element a list of either one or two elements:<ul>
<li>the first element is the textual error description</li>
<li>the second element, if any, will hold an error classification</li>
</ul>
</li>
</ul>
<p>The error classification is most useful for the <tt class="docutils literal"><span class="pre">OpPrereqError</span></tt>
error type - these errors happen before the OpCode has started
executing, so it&#8217;s possible to retry the OpCode without side
effects. But whether it make sense to retry depends on the error
classification:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">resolver_error</span></tt></dt>
<dd>Resolver errors. This usually means that a name doesn&#8217;t exist in DNS,
so if it&#8217;s a case of slow DNS propagation the operation can be retried
later.</dd>
<dt><tt class="docutils literal"><span class="pre">insufficient_resources</span></tt></dt>
<dd>Not enough resources (iallocator failure, disk space, memory,
etc.). If the resources on the cluster increase, the operation might
succeed.</dd>
<dt><tt class="docutils literal"><span class="pre">wrong_input</span></tt></dt>
<dd>Wrong arguments (at syntax level). The operation will not ever be
accepted unless the arguments change.</dd>
<dt><tt class="docutils literal"><span class="pre">wrong_state</span></tt></dt>
<dd>Wrong entity state. For example, live migration has been requested for
a down instance, or instance creation on an offline node. The
operation can be retried once the resource has changed state.</dd>
<dt><tt class="docutils literal"><span class="pre">unknown_entity</span></tt></dt>
<dd>Entity not found. For example, information has been requested for an
unknown instance.</dd>
<dt><tt class="docutils literal"><span class="pre">already_exists</span></tt></dt>
<dd>Entity already exists. For example, instance creation has been
requested for an already-existing instance.</dd>
<dt><tt class="docutils literal"><span class="pre">resource_not_unique</span></tt></dt>
<dd>Resource not unique (e.g. MAC or IP duplication).</dd>
<dt><tt class="docutils literal"><span class="pre">internal_error</span></tt></dt>
<dd>Internal cluster error. For example, a node is unreachable but not set
offline, or the ganeti node daemons are not working, etc. A
<tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt> should be run.</dd>
<dt><tt class="docutils literal"><span class="pre">environment_error</span></tt></dt>
<dd>Environment error (e.g. node disk error). A <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt>
should be run.</dd>
</dl>
<p>Note that in the above list, by entity we refer to a node or instance,
while by a resource we refer to an instance&#8217;s disk, or NIC, etc.</p>
</div>
<div class="section" id="id19">
<h4><a class="toc-backref" href="#id83"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a><a class="headerlink" href="#id19" title="Permalink to this headline">Â¶</a></h4>
<p>Cancel a not-yet-started job.</p>
</div>
</div>
<div class="section" id="nodes">
<h3><a class="toc-backref" href="#id84"><tt class="docutils literal"><span class="pre">/2/nodes</span></tt></a><a class="headerlink" href="#nodes" title="Permalink to this headline">Â¶</a></h3>
<p>Nodes resource.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>.</p>
<div class="section" id="id20">
<h4><a class="toc-backref" href="#id85"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id20" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of all nodes.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;node1.example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uri&quot;</span><span class="o">:</span> <span class="s2">&quot;\/nodes\/node1.example.com&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;node2.example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uri&quot;</span><span class="o">:</span> <span class="s2">&quot;\/nodes\/node2.example.com&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>If the optional &#8216;bulk&#8217; argument is provided and set to &#8216;true&#8217; value (i.e
&#8216;?bulk=1&#8217;), the output contains detailed information about nodes as a
list.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;pinst_cnt&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;mfree&quot;</span><span class="o">:</span> <span class="mi">31280</span><span class="p">,</span>
    <span class="s2">&quot;mtotal&quot;</span><span class="o">:</span> <span class="mi">32763</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;www.example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">&quot;mnode&quot;</span><span class="o">:</span> <span class="mi">512</span><span class="p">,</span>
    <span class="s2">&quot;dtotal&quot;</span><span class="o">:</span> <span class="mi">5246208</span><span class="p">,</span>
    <span class="s2">&quot;sinst_cnt&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;dfree&quot;</span><span class="o">:</span> <span class="mi">5171712</span><span class="p">,</span>
    <span class="s2">&quot;offline&quot;</span><span class="o">:</span> <span class="kc">false</span>
  <span class="p">},</span>
  <span class="p">...</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="nodes-node-name">
<h3><a class="toc-backref" href="#id86"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]</span></tt></a><a class="headerlink" href="#nodes-node-name" title="Permalink to this headline">Â¶</a></h3>
<p>Returns information about a node.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>.</p>
</div>
<div class="section" id="nodes-node-name-evacuate">
<h3><a class="toc-backref" href="#id87"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/evacuate</span></tt></a><a class="headerlink" href="#nodes-node-name-evacuate" title="Permalink to this headline">Â¶</a></h3>
<p>Evacuates all secondary instances off a node.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">POST</span></tt>.</p>
<div class="section" id="id21">
<h4><a class="toc-backref" href="#id88"><tt class="docutils literal"><span class="pre">POST</span></tt></a><a class="headerlink" href="#id21" title="Permalink to this headline">Â¶</a></h4>
<p>To evacuate a node, either one of the <tt class="docutils literal"><span class="pre">iallocator</span></tt> or <tt class="docutils literal"><span class="pre">remote_node</span></tt>
parameters must be passed:</p>
<blockquote>
evacuate?iallocator=[iallocator]
evacuate?remote_node=[nodeX.example.com]</blockquote>
</div>
</div>
<div class="section" id="nodes-node-name-migrate">
<h3><a class="toc-backref" href="#id89"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/migrate</span></tt></a><a class="headerlink" href="#nodes-node-name-migrate" title="Permalink to this headline">Â¶</a></h3>
<p>Migrates all primary instances from a node.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">POST</span></tt>.</p>
<div class="section" id="id22">
<h4><a class="toc-backref" href="#id90"><tt class="docutils literal"><span class="pre">POST</span></tt></a><a class="headerlink" href="#id22" title="Permalink to this headline">Â¶</a></h4>
<p>No parameters are required, but <tt class="docutils literal"><span class="pre">live</span></tt> can be set to a boolean value.</p>
<blockquote>
migrate?live=[0|1]</blockquote>
</div>
</div>
<div class="section" id="nodes-node-name-role">
<h3><a class="toc-backref" href="#id91"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/role</span></tt></a><a class="headerlink" href="#nodes-node-name-role" title="Permalink to this headline">Â¶</a></h3>
<p>Manages node role.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>, <tt class="docutils literal"><span class="pre">PUT</span></tt>.</p>
<p>The role is always one of the following:</p>
<blockquote>
<ul class="simple">
<li>drained</li>
<li>master</li>
<li>master-candidate</li>
<li>offline</li>
<li>regular</li>
</ul>
</blockquote>
<div class="section" id="id23">
<h4><a class="toc-backref" href="#id92"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id23" title="Permalink to this headline">Â¶</a></h4>
<p>Returns the current node role.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="s2">&quot;master-candidate&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="id24">
<h4><a class="toc-backref" href="#id93"><tt class="docutils literal"><span class="pre">PUT</span></tt></a><a class="headerlink" href="#id24" title="Permalink to this headline">Â¶</a></h4>
<p>Change the node role.</p>
<p>The request is a string which should be PUT to this URI. The result will
be a job id.</p>
<p>It supports the <tt class="docutils literal"><span class="pre">force</span></tt> argument.</p>
</div>
</div>
<div class="section" id="nodes-node-name-storage">
<h3><a class="toc-backref" href="#id94"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage</span></tt></a><a class="headerlink" href="#nodes-node-name-storage" title="Permalink to this headline">Â¶</a></h3>
<p>Manages storage units on the node.</p>
<div class="section" id="id25">
<h4><a class="toc-backref" href="#id95"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id25" title="Permalink to this headline">Â¶</a></h4>
<p>Requests a list of storage units on a node. Requires the parameters
<tt class="docutils literal"><span class="pre">storage_type</span></tt> (one of <tt class="docutils literal"><span class="pre">file</span></tt>, <tt class="docutils literal"><span class="pre">lvm-pv</span></tt> or <tt class="docutils literal"><span class="pre">lvm-vg</span></tt>) and
<tt class="docutils literal"><span class="pre">output_fields</span></tt>. The result will be a job id, using which the result
can be retrieved.</p>
</div>
</div>
<div class="section" id="nodes-node-name-storage-modify">
<h3><a class="toc-backref" href="#id96"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/modify</span></tt></a><a class="headerlink" href="#nodes-node-name-storage-modify" title="Permalink to this headline">Â¶</a></h3>
<p>Modifies storage units on the node.</p>
<div class="section" id="id26">
<h4><a class="toc-backref" href="#id97"><tt class="docutils literal"><span class="pre">PUT</span></tt></a><a class="headerlink" href="#id26" title="Permalink to this headline">Â¶</a></h4>
<p>Modifies parameters of storage units on the node. Requires the
parameters <tt class="docutils literal"><span class="pre">storage_type</span></tt> (one of <tt class="docutils literal"><span class="pre">file</span></tt>, <tt class="docutils literal"><span class="pre">lvm-pv</span></tt> or <tt class="docutils literal"><span class="pre">lvm-vg</span></tt>)
and <tt class="docutils literal"><span class="pre">name</span></tt> (name of the storage unit).  Parameters can be passed
additionally. Currently only <tt class="docutils literal"><span class="pre">allocatable</span></tt> (bool) is supported. The
result will be a job id.</p>
</div>
</div>
<div class="section" id="nodes-node-name-storage-repair">
<h3><a class="toc-backref" href="#id98"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/repair</span></tt></a><a class="headerlink" href="#nodes-node-name-storage-repair" title="Permalink to this headline">Â¶</a></h3>
<p>Repairs a storage unit on the node.</p>
<div class="section" id="id27">
<h4><a class="toc-backref" href="#id99"><tt class="docutils literal"><span class="pre">PUT</span></tt></a><a class="headerlink" href="#id27" title="Permalink to this headline">Â¶</a></h4>
<p>Repairs a storage unit on the node. Requires the parameters
<tt class="docutils literal"><span class="pre">storage_type</span></tt> (currently only <tt class="docutils literal"><span class="pre">lvm-vg</span></tt> can be repaired) and
<tt class="docutils literal"><span class="pre">name</span></tt> (name of the storage unit). The result will be a job id.</p>
</div>
</div>
<div class="section" id="nodes-node-name-tags">
<h3><a class="toc-backref" href="#id100"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/tags</span></tt></a><a class="headerlink" href="#nodes-node-name-tags" title="Permalink to this headline">Â¶</a></h3>
<p>Manages per-node tags.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>, <tt class="docutils literal"><span class="pre">PUT</span></tt>, <tt class="docutils literal"><span class="pre">DELETE</span></tt>.</p>
<div class="section" id="id28">
<h4><a class="toc-backref" href="#id101"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id28" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of tags.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span><span class="s2">&quot;tag1&quot;</span><span class="p">,</span> <span class="s2">&quot;tag2&quot;</span><span class="p">,</span> <span class="s2">&quot;tag3&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id29">
<h4><a class="toc-backref" href="#id102"><tt class="docutils literal"><span class="pre">PUT</span></tt></a><a class="headerlink" href="#id29" title="Permalink to this headline">Â¶</a></h4>
<p>Add a set of tags.</p>
<p>The request as a list of strings should be PUT to this URI. The result
will be a job id.</p>
<p>It supports the <tt class="docutils literal"><span class="pre">dry-run</span></tt> argument.</p>
</div>
<div class="section" id="id30">
<h4><a class="toc-backref" href="#id103"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a><a class="headerlink" href="#id30" title="Permalink to this headline">Â¶</a></h4>
<p>Deletes tags.</p>
<p>In order to delete a set of tags, the DELETE request should be addressed
to URI like:</p>
<div class="highlight-javascript"><pre>/tags?tag=[tag]&amp;tag=[tag]</pre>
</div>
<p>It supports the <tt class="docutils literal"><span class="pre">dry-run</span></tt> argument.</p>
</div>
</div>
<div class="section" id="os">
<h3><a class="toc-backref" href="#id104"><tt class="docutils literal"><span class="pre">/2/os</span></tt></a><a class="headerlink" href="#os" title="Permalink to this headline">Â¶</a></h3>
<p>OS resource.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>.</p>
<div class="section" id="id31">
<h4><a class="toc-backref" href="#id105"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id31" title="Permalink to this headline">Â¶</a></h4>
<p>Return a list of all OSes.</p>
<p>Can return error 500 in case of a problem. Since this is a costly
operation for Ganeti 2.0, it is not recommended to execute it too often.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span><span class="s2">&quot;debian-etch&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tags">
<h3><a class="toc-backref" href="#id106"><tt class="docutils literal"><span class="pre">/2/tags</span></tt></a><a class="headerlink" href="#tags" title="Permalink to this headline">Â¶</a></h3>
<p>Manages cluster tags.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>, <tt class="docutils literal"><span class="pre">PUT</span></tt>, <tt class="docutils literal"><span class="pre">DELETE</span></tt>.</p>
<div class="section" id="id32">
<h4><a class="toc-backref" href="#id107"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id32" title="Permalink to this headline">Â¶</a></h4>
<p>Returns the cluster tags.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span><span class="s2">&quot;tag1&quot;</span><span class="p">,</span> <span class="s2">&quot;tag2&quot;</span><span class="p">,</span> <span class="s2">&quot;tag3&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id33">
<h4><a class="toc-backref" href="#id108"><tt class="docutils literal"><span class="pre">PUT</span></tt></a><a class="headerlink" href="#id33" title="Permalink to this headline">Â¶</a></h4>
<p>Adds a set of tags.</p>
<p>The request as a list of strings should be PUT to this URI. The result
will be a job id.</p>
<p>It supports the <tt class="docutils literal"><span class="pre">dry-run</span></tt> argument.</p>
</div>
<div class="section" id="id34">
<h4><a class="toc-backref" href="#id109"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a><a class="headerlink" href="#id34" title="Permalink to this headline">Â¶</a></h4>
<p>Deletes tags.</p>
<p>In order to delete a set of tags, the DELETE request should be addressed
to URI like:</p>
<div class="highlight-javascript"><pre>/tags?tag=[tag]&amp;tag=[tag]</pre>
</div>
<p>It supports the <tt class="docutils literal"><span class="pre">dry-run</span></tt> argument.</p>
</div>
</div>
<div class="section" id="version">
<h3><a class="toc-backref" href="#id110"><tt class="docutils literal"><span class="pre">/version</span></tt></a><a class="headerlink" href="#version" title="Permalink to this headline">Â¶</a></h3>
<p>The version resource.</p>
<p>This resource should be used to determine the remote API version and to
adapt clients accordingly.</p>
<p>It supports the following commands: <tt class="docutils literal"><span class="pre">GET</span></tt>.</p>
<div class="section" id="id35">
<h4><a class="toc-backref" href="#id111"><tt class="docutils literal"><span class="pre">GET</span></tt></a><a class="headerlink" href="#id35" title="Permalink to this headline">Â¶</a></h4>
<p>Returns the remote API version. Ganeti 1.2 returned <tt class="docutils literal"><span class="pre">1</span></tt> and Ganeti 2.0
returns <tt class="docutils literal"><span class="pre">2</span></tt>.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference" href="">Ganeti remote API</a><ul>
<li><a class="reference" href="#introduction">Introduction</a></li>
<li><a class="reference" href="#users-and-passwords">Users and passwords</a></li>
<li><a class="reference" href="#protocol">Protocol</a></li>
<li><a class="reference" href="#generic-parameters">Generic parameters</a><ul>
<li><a class="reference" href="#bulk"><tt class="docutils literal"><span class="pre">bulk</span></tt></a></li>
<li><a class="reference" href="#dry-run"><tt class="docutils literal"><span class="pre">dry-run</span></tt></a></li>
<li><a class="reference" href="#force"><tt class="docutils literal"><span class="pre">force</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#usage-examples">Usage examples</a><ul>
<li><a class="reference" href="#shell">Shell</a></li>
<li><a class="reference" href="#python">Python</a></li>
<li><a class="reference" href="#javascript">JavaScript</a></li>
</ul>
</li>
<li><a class="reference" href="#resources">Resources</a><ul>
<li><a class="reference" href="#id2"><tt class="docutils literal"><span class="pre">/</span></tt></a><ul>
<li><a class="reference" href="#get"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#id3"><tt class="docutils literal"><span class="pre">/2</span></tt></a><ul>
<li><a class="reference" href="#id4"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#info"><tt class="docutils literal"><span class="pre">/2/info</span></tt></a><ul>
<li><a class="reference" href="#id5"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#redistribute-config"><tt class="docutils literal"><span class="pre">/2/redistribute-config</span></tt></a><ul>
<li><a class="reference" href="#put"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances"><tt class="docutils literal"><span class="pre">/2/instances</span></tt></a><ul>
<li><a class="reference" href="#id6"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#post"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]</span></tt></a><ul>
<li><a class="reference" href="#id7"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#delete"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-info"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/info</span></tt></a><ul>
<li><a class="reference" href="#id8"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-reboot"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/reboot</span></tt></a><ul>
<li><a class="reference" href="#id9"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-shutdown"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/shutdown</span></tt></a><ul>
<li><a class="reference" href="#id10"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-startup"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/startup</span></tt></a><ul>
<li><a class="reference" href="#id11"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-reinstall"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/reinstall</span></tt></a><ul>
<li><a class="reference" href="#id12"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-replace-disks"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/replace-disks</span></tt></a><ul>
<li><a class="reference" href="#id13"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#instances-instance-name-tags"><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/tags</span></tt></a><ul>
<li><a class="reference" href="#id14"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#id15"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
<li><a class="reference" href="#id16"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#jobs"><tt class="docutils literal"><span class="pre">/2/jobs</span></tt></a><ul>
<li><a class="reference" href="#id17"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#jobs-job-id"><tt class="docutils literal"><span class="pre">/2/jobs/[job_id]</span></tt></a><ul>
<li><a class="reference" href="#id18"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#id19"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes"><tt class="docutils literal"><span class="pre">/2/nodes</span></tt></a><ul>
<li><a class="reference" href="#id20"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]</span></tt></a></li>
<li><a class="reference" href="#nodes-node-name-evacuate"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/evacuate</span></tt></a><ul>
<li><a class="reference" href="#id21"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-migrate"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/migrate</span></tt></a><ul>
<li><a class="reference" href="#id22"><tt class="docutils literal"><span class="pre">POST</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-role"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/role</span></tt></a><ul>
<li><a class="reference" href="#id23"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#id24"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-storage"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage</span></tt></a><ul>
<li><a class="reference" href="#id25"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-storage-modify"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/modify</span></tt></a><ul>
<li><a class="reference" href="#id26"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-storage-repair"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/repair</span></tt></a><ul>
<li><a class="reference" href="#id27"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#nodes-node-name-tags"><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/tags</span></tt></a><ul>
<li><a class="reference" href="#id28"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#id29"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
<li><a class="reference" href="#id30"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#os"><tt class="docutils literal"><span class="pre">/2/os</span></tt></a><ul>
<li><a class="reference" href="#id31"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#tags"><tt class="docutils literal"><span class="pre">/2/tags</span></tt></a><ul>
<li><a class="reference" href="#id32"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
<li><a class="reference" href="#id33"><tt class="docutils literal"><span class="pre">PUT</span></tt></a></li>
<li><a class="reference" href="#id34"><tt class="docutils literal"><span class="pre">DELETE</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#version"><tt class="docutils literal"><span class="pre">/version</span></tt></a><ul>
<li><a class="reference" href="#id35"><tt class="docutils literal"><span class="pre">GET</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="iallocator.html"
                                  title="previous chapter">Ganeti automatic instance allocation</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="devnotes.html"
                                  title="next chapter">Developer notes</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/rapi.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="devnotes.html" title="Developer notes"
             >next</a></li>
        <li class="right" >
          <a href="iallocator.html" title="Ganeti automatic instance allocation"
             >previous</a> |</li>
        <li><a href="index.html">Ganeti v2.1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2006, 2007, 2008, 2009, Google Inc..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>