.TH gnt-job 8 "" "Ganeti" "Version @GANETI_VERSION@"
.SH Name
.PP
gnt-job - Job commands
.SH Synopsis
.PP
\f[B]gnt-job\f[] {command} [arguments...]
.SH DESCRIPTION
.PP
The \f[B]gnt-job\f[] is used for examining and manipulating the job
queue.
.SH COMMANDS
.SS ARCHIVE
.PP
\f[B]archive\f[] {id...}
.PP
This command can be used to archive job by their IDs. Only jobs
that have finished execution (i.e either \f[I]success\f[],
\f[I]error\f[] or \f[I]canceled\f[] jobs).
.SS AUTOARCHIVE
.PP
\f[B]autoarchive\f[] {\f[I]age\f[] | \f[B]all\f[]}
.PP
Archive jobs by their age. This command can archive jobs older than
\f[I]age\f[] seconds, or alternatively all finished jobs can be
archived if the string all is passed.
.SS CANCEL
.PP
\f[B]cancel\f[] {\f[I]id\f[]}
.PP
Cancel the job identified by the given \f[I]id\f[].
Only jobs that have not yet started to run can be canceled; that
is, jobs in either the \f[I]queued\f[] or \f[I]waiting\f[] state.
.SS INFO
.PP
\f[B]info\f[] {\f[I]id\f[]...}
.PP
Show detailed information about the given job id(s). If no job id
is given, all jobs are examined (warning, this is a lot of
information).
.SS LIST
.PP
\f[B]list\f[] [--no-headers] [--separator=\f[I]SEPARATOR\f[]] [-o
\f[I][+]FIELD,...\f[]]
.PP
Lists the jobs and their status. By default, the job id, job
status, and a small job description is listed, but additional
parameters can be selected.
.PP
The \f[B]--no-headers\f[] option will skip the initial header line.
The \f[B]--separator\f[] option takes an argument which denotes
what will be used between the output fields. Both these options are
to help scripting.
.PP
The \f[B]-o\f[] option takes a comma-separated list of output
fields. The available fields and their meaning are:
.TP
.B id
the job id
.RS
.RE
.TP
.B status
the status of the job
.RS
.RE
.TP
.B priority
current priority of the job
.RS
.RE
.TP
.B received_ts
the timestamp the job was received
.RS
.RE
.TP
.B start_ts
the timestamp when the job was started
.RS
.RE
.TP
.B end_ts
the timestamp when the job was ended
.RS
.RE
.TP
.B summary
a summary of the opcodes that define the job
.RS
.RE
.TP
.B ops
the list of opcodes defining the job
.RS
.RE
.TP
.B opresult
the list of opcode results
.RS
.RE
.TP
.B opstatus
the list of opcode statuses
.RS
.RE
.TP
.B oplog
the list of opcode logs
.RS
.RE
.TP
.B opstart
the list of opcode start times (before acquiring locks)
.RS
.RE
.TP
.B opexec
the list of opcode execution start times (after acquiring any
necessary locks)
.RS
.RE
.TP
.B opend
the list of opcode end times
.RS
.RE
.TP
.B oppriority
the priority of each opcode
.RS
.RE
.PP
If the value of the option starts with the character \f[B]+\f[],
the new fields will be added to the default list. This allows to
quickly see the default list plus a few other fields, instead of
retyping the entire list of fields.
.SS WATCH
.PP
\f[B]watch\f[] {id}
.PP
This command follows the output of the job by the given \f[I]id\f[]
and prints it.
.SH REPORTING BUGS
.PP
Report bugs to project website (http://code.google.com/p/ganeti/)
or contact the developers using the
Ganeti mailing list (ganeti@googlegroups.com).
.SH SEE ALSO
.PP
Ganeti overview and specifications: \f[B]ganeti\f[](7) (general
overview), \f[B]ganeti-os-interface\f[](7) (guest OS definitions).
.PP
Ganeti commands: \f[B]gnt-cluster\f[](8) (cluster-wide commands),
\f[B]gnt-job\f[](8) (job-related commands), \f[B]gnt-node\f[](8)
(node-related commands), \f[B]gnt-instance\f[](8) (instance
commands), \f[B]gnt-os\f[](8) (guest OS commands),
\f[B]gnt-group\f[](8) (node group commands), \f[B]gnt-backup\f[](8)
(instance import/export commands), \f[B]gnt-debug\f[](8) (debug
commands).
.PP
Ganeti daemons: \f[B]ganeti-watcher\f[](8) (automatic instance
restarter), \f[B]ganeti-cleaner\f[](8) (job queue cleaner),
\f[B]ganeti-noded\f[](8) (node daemon), \f[B]ganeti-masterd\f[](8)
(master daemon), \f[B]ganeti-rapi\f[](8) (remote API daemon).
.SH COPYRIGHT
.PP
Copyright (C) 2006, 2007, 2008, 2009, 2010 Google Inc. Permission
is granted to copy, distribute and/or modify under the terms of the
GNU General Public License as published by the Free Software
Foundation; either version 2 of the License, or (at your option)
any later version.
.PP
On Debian systems, the complete text of the GNU General Public
License can be found in /usr/share/common-licenses/GPL.

